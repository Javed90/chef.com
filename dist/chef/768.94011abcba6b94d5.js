"use strict";(self.webpackChunkchef=self.webpackChunkchef||[]).push([[768],{7875:(Y,L,h)=>{h.d(L,{K:()=>S});var B=h(3668);let S=(()=>{class g{transform(e,b,m){return void 0===m?b:e?(console.log(e),b.filter(_=>null!=_[e]&&_[e].toString().toLowerCase().includes(m.toLowerCase()))):b.filter(_=>Object.keys(_).some(C=>null!=_[C]&&_[C].toString().toLowerCase().includes(m.toLowerCase())))}transform2(e,b,m,_,C){return void 0===_?m:e&&b?(console.log(_),console.log(C),m.filter(A=>A[e]==_&&A[b]==C)):void 0}transform3(e,b,m,_,C,A,w){return void 0===C?_:e&&b&&m?(console.log(C),console.log(A),_.filter(x=>x[e]==C&&x[b]==A&&x[m]==w)):void 0}transform4(e,b,m,_,C,A,w,x,M){return void 0===A?C:e&&b&&m?(console.log(A),console.log(w),C.filter(F=>F[e]==A&&F[b]==w&&F[m]==x&&F[_]==M)):void 0}}return g.\u0275fac=function(e){return new(e||g)},g.\u0275pipe=B.Yjl({name:"searchString",type:g,pure:!0}),g})()},8768:(Y,L,h)=>{h.r(L),h.d(L,{BannersModule:()=>be});var B=h(6019),S=h(8994),g=h(7537),q=h(8260),e=h(3668),b=h(2387),m=h(7962),_=h(4522);let C=(()=>{class n{constructor(t){this.httpClnt=t,this.apiUrl=q.N.apiUrl}getAllBanners(){return this.httpClnt.post(this.apiUrl+m.y.bannerList,{})}addBanner(t){return this.httpClnt.post(this.apiUrl+m.y.addBanner,t)}uploadBannerImages(t){return this.httpClnt.post(this.apiUrl+m.y.uploadBannerImages,t)}bannerDetail(t){return this.httpClnt.get(this.apiUrl+m.y.getBannerDetail+"?featureBannerId="+t)}deletebanner(t){return this.httpClnt.post(this.apiUrl+m.y.deleteBanner+"?featureBannerId="+t,{})}updateBannerImages(t){return this.httpClnt.post(this.apiUrl+m.y.updateBannerImage,t)}updateBannerSingleImage(t){return this.httpClnt.post(this.apiUrl+m.y.updateSingleBannerImage,t)}deleteSingleImage(t){return this.httpClnt.post(this.apiUrl+m.y.deleteBannerImage+"?featureBannerDetailImageId="+t,{})}updateBanner(t){return this.httpClnt.post(this.apiUrl+m.y.updateBanner,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(_.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=h(5738),w=h(2524),x=h(959),M=h(7875),F=h(5339),E=h(9256),R=h(701),J=h(8360);function H(n,a){if(1&n&&e._UZ(0,"img",39),2&n){const t=e.oxw(2);e.Q6J("src",t.croppedImage,e.LSH)}}function O(n,a){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,H,1,1,"img",38),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.croppedImage)}}function z(n,a){if(1&n&&e._UZ(0,"img",39),2&n){const t=e.oxw(2);e.Q6J("src",t.croppedImage,e.LSH)}}function k(n,a){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,z,1,1,"img",38),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.croppedImage)}}function W(n,a){if(1&n&&(e.TgZ(0,"div",37),e._UZ(1,"img",39),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hYB("src","",t.imagePath,"/",t.editImages,"",e.LSH)}}function j(n,a){1&n&&(e.TgZ(0,"div",40),e._uU(1," Banner Image is required "),e.qZA())}function V(n,a){if(1&n&&(e.TgZ(0,"div",40),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.imagesLimitOrType," ")}}function K(n,a){1&n&&(e.TgZ(0,"div",40),e._uU(1," Banner Type is required "),e.qZA())}function G(n,a){1&n&&(e.TgZ(0,"div",40),e._uU(1," Sequence Number is required "),e.qZA())}function X(n,a){1&n&&(e.TgZ(0,"div",40),e._uU(1," Minimum required number is 1. "),e.qZA())}function $(n,a){1&n&&(e.TgZ(0,"div",40),e._uU(1," Choose Category(Choose Product OR Choose Recipe OR Choose Collection) is required "),e.qZA())}function ee(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e.TgZ(1,"div",42),e.TgZ(2,"label",15),e._uU(3,"Choose Category"),e.qZA(),e.TgZ(4,"ng-multiselect-dropdown",43),e.NdJ("onSelect",function(o){return e.CHM(t),e.oxw().selectCategoryEvent(o)})("onSelectAll",function(o){return e.CHM(t),e.oxw().onSelectAllCategory(o)})("onDeSelect",function(o){return e.CHM(t),e.oxw().DropDownClose(o)})("onDeSelectAll",function(o){return e.CHM(t),e.oxw().onDeSelectAllCategory(o)}),e.qZA(),e.qZA(),e.TgZ(5,"div",42),e.TgZ(6,"label",15),e._uU(7,"Choose Sub-Category"),e.qZA(),e.TgZ(8,"ng-multiselect-dropdown",44),e.NdJ("onSelect",function(o){return e.CHM(t),e.oxw().selectSubCategoryEvent(o)})("onSelectAll",function(o){return e.CHM(t),e.oxw().onSelectAllSubCategory(o)})("onDeSelect",function(o){return e.CHM(t),e.oxw().DropSubClose(o)})("onDeSelectAll",function(o){return e.CHM(t),e.oxw().onDeSelectAllSubCategory(o)}),e.qZA(),e.qZA(),e.TgZ(9,"div",45),e.TgZ(10,"label",15),e._uU(11,"Choose Product"),e.qZA(),e.TgZ(12,"ng-multiselect-dropdown",46),e.NdJ("onSelect",function(o){return e.CHM(t),e.oxw().onItemSelect(o)})("onSelectAll",function(o){return e.CHM(t),e.oxw().onSelectAllProducts(o)})("onDeSelect",function(o){return e.CHM(t),e.oxw().DropProduct(o)})("onDeSelectAll",function(o){return e.CHM(t),e.oxw().onDeSelectAllProducts(o)}),e.qZA(),e.qZA(),e.TgZ(13,"div",47),e.TgZ(14,"div",48),e.TgZ(15,"span"),e._uU(16,"Or"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",45),e.TgZ(18,"label",15),e._uU(19,"Choose Recipes"),e.qZA(),e.TgZ(20,"ng-multiselect-dropdown",49),e.NdJ("onSelect",function(o){return e.CHM(t),e.oxw().onItemSelectRecipe(o)})("onSelectAll",function(o){return e.CHM(t),e.oxw().onSelectAllRecipe(o)})("onDeSelect",function(o){return e.CHM(t),e.oxw().DropRecipe(o)})("onDeSelectAll",function(o){return e.CHM(t),e.oxw().onDeSelectAllRecipe(o)}),e.qZA(),e.qZA(),e.TgZ(21,"div",47),e.TgZ(22,"div",48),e.TgZ(23,"span"),e._uU(24,"Or"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"div",45),e.TgZ(26,"label",15),e._uU(27,"Choose Collection"),e.qZA(),e.TgZ(28,"ng-multiselect-dropdown",50),e.NdJ("onSelect",function(o){return e.CHM(t),e.oxw().onItemSelectCollection(o)})("onSelectAll",function(o){return e.CHM(t),e.oxw().onSelectAllCollection(o)})("onDeSelect",function(o){return e.CHM(t),e.oxw().DropDownCollectionClose(o)})("onDeSelectAll",function(o){return e.CHM(t),e.oxw().onDeSelectCollections(o)}),e.qZA(),e.qZA(),e.YNc(29,$,2,0,"div",13),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("settings",t.dropdownCategorySettings)("data",t.allCategories),e.xp6(4),e.Q6J("settings",t.dropdownSubCategorySettings)("data",t.subCategoryNames),e.xp6(4),e.Q6J("settings",t.dropdownSettings)("data",t.searchProducts),e.xp6(8),e.Q6J("settings",t.dropdownRecipeSettings)("data",t.allRecipes),e.xp6(8),e.Q6J("settings",t.dropdownCollectionsSettings)("data",t.allCollections),e.xp6(1),e.Q6J("ngIf",t.recipeProductError)}}function te(n,a){1&n&&e._UZ(0,"img",51)}function ie(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",52),e.TgZ(1,"div",28),e.TgZ(2,"button",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().modalRef.hide()}),e.TgZ(3,"span",31),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",32),e.TgZ(6,"h2"),e._uU(7,"Are You Sure?"),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",54),e.TgZ(11,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(12,"Yes"),e.qZA(),e.TgZ(13,"button",55),e.NdJ("click",function(){return e.CHM(t),e.oxw().modalRef.hide()}),e._uU(14,"No"),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(9),e.hij("Do you really want to ",t.buttonName," this data?")}}let Q=(()=>{class n{constructor(t,i,o,r,s,l,d,c,u,p,I,T){this.activatedRoute=t,this.formBuilder=i,this.toastr=o,this.bannerService=r,this.zone=s,this.productService=l,this.categoryService=d,this.router=c,this.recipeService=u,this.searchString=p,this.collectionService=I,this.modalService=T,this.buttonName="save",this.imagePath=q.N.imagePath,this.submitted=!1,this.images=[],this.productsName=[],this.catIds=[],this.allProducts=[],this.searchProducts=[],this.imageChangedEvent="",this.croppedImage="",this.imageMessage=!1,this.recipeProductError=!1,this.recipeProductIDs=[],this.recipeCategoriesID=[],this.bannerSubCategoryId=[],this.recipeRecipesID=[],this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeCollectionOr=!0,this.recipeProductOr=!0,this.recipeChooseCollection=!1,this.classProduct="3",this.selectedRecipes=[],this.selectedCollections=[],this.productDescription=[],this.bannerCollectionsID=[],this.allCollections=[{collectionId:"",collectionName:""}],this.allCollectionData=[],this.isLoaderImage=!1,this.imageType=["image/jpg","image/jpeg","image/png"],this.subCategoryList=[],this.subCategoriesNames=[],this.subCatId=[],this.formChanged=!1,this.isChooseNotify=!1}ngOnInit(){this.bannerForm=this.formBuilder.group({featureBannerImage:[""],featureBannerType:["",[g.kI.required]],categoryId:[""],subCategoryId:[""],productId:[""],recipeId:[""],collectionId:[""],sequenceNumber:["",[g.kI.required,g.kI.min(1)]]}),this.bannerForm.valueChanges.subscribe(t=>{localStorage.setItem("isFormChanged",JSON.stringify(!0))}),console.log(this.bannerForm.controls),this.getBannerList(),this.getListCollections(),this.getListRecipes(),this.getAllProductsName(),this.allCategoriesList(),this.dropdownSettings={idField:"productId",textField:"productDescription",allowSearchFilter:!0},this.dropdownRecipeSettings={idField:"recipeId",textField:"recipeTitle",allowSearchFilter:!0},this.dropdownCategorySettings={idField:"categoryId",textField:"categoryId",allowSearchFilter:!0,singleSelection:!0},this.dropdownSubCategorySettings={idField:"subCategoryId",textField:"subCategoryId",allowSearchFilter:!0},this.dropdownCollectionsSettings={idField:"collectionId",textField:"collectionName",allowSearchFilter:!0},this.getParamID()}getParamID(){this.activatedRoute.params.subscribe(t=>{this.bannerID=t.id,this.bannerID&&this.getBannerDataWithId(this.bannerID)}),this.bannerID?(this.title="Edit Banner",this.buttonName="update"):(this.title="Add New Banner",this.buttonName="save")}get f(){return this.bannerForm.controls}getBannerDataWithId(t){this.bannerService.bannerDetail(t).subscribe(i=>{var o,r,s,l,d,c,u,p,I;i.data.categoryId&&(this.getProductsWithId(null===(r=null===(o=i.data)||void 0===o?void 0:o.categoryId)||void 0===r?void 0:r.split(",")),this.getSubCategoriesWithID(null===(l=null===(s=i.data)||void 0===s?void 0:s.categoryId)||void 0===l?void 0:l.split(","))),""!=i.data.recipeId&&null!=i.data.recipeId&&(null===(d=i.data.recipeId)||void 0===d||d.split(",").forEach(Z=>{var y;(null===(y=this.searchString)||void 0===y?void 0:y.transform("recipeId",this.allRecipes,Z)).forEach(P=>{Z==P.recipeId&&this.selectedRecipes.push(P)})}),this.recipeIDData=this.getUniqueListBy(this.selectedRecipes,"recipeId"),console.log(this.recipeIDData)),!i.data.recipeId&&null!=i.data.recipeId&&(null===(c=i.data.collectionId)||void 0===c||c.split(",").forEach(Z=>{var y;console.log(Z);const D=null===(y=this.searchString)||void 0===y?void 0:y.transform("collectionId",this.allCollections,Z);console.log(D),D.forEach(P=>{console.log(Z),Z==P.collectionId&&this.allCollectionData.push({collectionId:P.collectionId,collectionName:P.collectionName})})}),this.collectionIDData=this.getUniqueListBy(this.allCollectionData,"collectionId"),console.log(this.collectionIDData)),null===(u=i.data.productId)||void 0===u||u.split(",").forEach(Z=>{this.searchString.transform("productId",this.productsName,Z).forEach(D=>{Z==D.productId&&this.productDescription.push({productId:D.productId,productDescription:D.productDescription})})}),null!=i.data.productId&&""!=i.data.productId?(this.recipeChooseProduct=!0,this.recipeChooseRecipe=!1,this.recipeProductOr=!1,this.classProduct="12",this.recipeChooseCollection=!1,this.recipeCollectionOr=!1):null!=i.data.recipeId&&""!=i.data.recipeId?(this.recipeChooseProduct=!1,this.recipeChooseRecipe=!0,this.recipeProductOr=!1,this.classProduct="12",this.recipeChooseCollection=!1,this.recipeCollectionOr=!1):(this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeProductOr=!1,this.recipeChooseCollection=!0,this.recipeCollectionOr=!1,this.classProduct="12");const T=this.getUniqueListBy(this.productDescription,"productId");console.log(i.data);let U=null===(p=i.data.categoryId)||void 0===p?void 0:p.split(",");""==U[0]&&(U=null),console.log(U),this.bannerForm.patchValue({featureBannerType:i.data.featureBannerType,categoryId:U,subCategoryId:null===(I=i.data.subCategoryId)||void 0===I?void 0:I.split(","),productId:T,recipeId:this.recipeIDData,collectionId:this.collectionIDData,sequenceNumber:i.data.sequenceNumber}),this.editImages=i.data.featureBannerImage,this.showCatProdRecipe=i.data.featureBannerType})}uploadImage(t){let i=t.target.files;for(var o=0;o<i.length;o++)this.images.push(i[o]);this.bannerID?this.uploadImages(this.bannerID):this.base(t)}getUniqueListBy(t,i){return[...new Map(t.map(o=>[o[i],o])).values()]}openModal(t){this.formValidations(t)}formValidations(t){var i,o,r;if(this.submitted=!0,console.log(this.bannerForm.value),"Home"==this.showCatProdRecipe){if(0==(null===(i=this.bannerForm.value.productId)||void 0===i?void 0:i.length)&&(this.bannerForm.value.productId=""),0==(null===(o=this.bannerForm.value.recipeId)||void 0===o?void 0:o.length)&&(this.bannerForm.value.recipeId=""),0==(null===(r=this.bannerForm.value.collectionId)||void 0===r?void 0:r.length)&&(this.bannerForm.value.collectionId=""),!(this.bannerForm.value.productId||this.bannerForm.value.recipeId||this.bannerForm.value.collectionId))return void(this.recipeProductError=!0);this.recipeProductError=!1}if(this.bannerForm.value.collectionId&&this.getcollectionsId(this.bannerForm.value.collectionId),this.editImages)this.croppedImage&&(this.imageMessage=!1);else if(""==this.croppedImage)return void(this.imageMessage=!0);this.bannerForm.invalid||(this.bannerForm.value.productId&&this.getProductIds(this.bannerForm.value.productId),this.bannerForm.value.recipeId&&this.getRecipeIds(this.bannerForm.value.recipeId),this.bannerForm.value.categoryId&&this.getCategoriesId(this.bannerForm.value.categoryId),this.bannerForm.value.subCategoryId&&this.getSubCategoriesId(this.bannerForm.value.subCategoryId),this.modalRef=this.modalService.show(t))}submit(){this.modalRef.hide(),this.isLoaderImage=!0,this.bannerID?(this.bannerForm.value.featureBannerId=this.bannerID,this.bannerService.updateBanner(this.bannerForm.value).subscribe(t=>{t.success?(this.isLoaderImage=!1,this.uploadImages(this.bannerID),this.toastr.success(t.message)):this.toastr.success(t.message)})):this.bannerService.addBanner(this.bannerForm.value).subscribe(t=>{t.success?(this.isLoaderImage=!1,this.uploadImages(t.data),this.showImages=t.data,this.toastr.success(t.message)):this.toastr.success(t.message)})}uploadImages(t){let i=new FormData;i.append("featureBannerId",t),this.bannerID?(i.append("uploadedFeatureBannerImage",this.imgCropped),i.append("featureBannerImage",this.editImages),this.images=[],this.bannerService.updateBannerImages(i).subscribe(o=>{o.success&&this.zone.run(()=>{this.router.navigate(["/banners"])}),this.zone.run(()=>{this.getBannerDataWithId(this.bannerID)})})):(i.append("featureBannerImage",this.imgCropped),this.images=[],this.bannerService.uploadBannerImages(i).subscribe(o=>{this.zone.run(()=>{this.router.navigate(["/banners"])})}))}singleImageUpdate(t,i){this.singleImage=t.target.files[0];let o=new FormData;o.append("featureBannerDetailId",i.featureBannerDetailId),o.append("featureBannerDetailImagePath",i.featureBannerDetailImagePath),o.append("featureBannerId",i.featureBannerId),o.append("uploadedFeatureBannerImage",this.singleImage),this.bannerService.updateBannerSingleImage(o).subscribe(r=>{r.success&&this.toastr.success(r.message),this.zone.run(()=>{this.getBannerDataWithId(this.bannerID)})})}getDeleteID(t){this.bannerDetailImageId=t.featureBannerDetailId}deleteSingleImage(){this.bannerService.deleteSingleImage(this.bannerDetailImageId).subscribe(t=>{t.success&&this.toastr.success(t.message),this.zone.run(()=>{this.getBannerDataWithId(this.bannerID)})})}getAllProductsName(){let t=this.productService.getAllProdData();this.allProducts=JSON.parse(t)}selectEvent(t){this.bannerForm.value.productId=t.productId}allCategoriesList(){this.categoryService.getAllcategories().subscribe(t=>{this.allCategories=t.items.filter(function(i){return null!=i.categoryId})})}selectCategoryEvent(t){this.catIds=[],this.catIds.push({categoryId:t.categoryId}),this.getListRecipes(),this.subCategories(),this.bannerForm.patchValue({collectionId:[],recipeId:[]})}onSelectAllCategory(t){this.searchProducts=this.allProducts,this.getListRecipes()}onDeSelectAllCategory(t){this.searchProducts=[]}DropDownClose(t){this.subCategoryNames=[],this.searchProducts=[],this.subCategoriesNames=[],this.catIds=[],this.subCategoryList=[]}onItemSelect(t){(this.bannerForm.value.collectionId.length>0||this.bannerForm.value.recipeId.length>0)&&(this.bannerForm.patchValue({collectionId:[],recipeId:[]}),this.chooseConfirmation()),this.recipeProductError=!1,this.recipeChooseProduct=!0,this.recipeChooseRecipe=!1,this.recipeProductOr=!1,this.recipeChooseCollection=!1,this.recipeCollectionOr=!1,this.classProduct="12"}DropProduct(t){0==this.bannerForm.controls.productId.value.length&&(this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeProductOr=!0,this.recipeChooseCollection=!1,this.recipeCollectionOr=!0,this.classProduct="3")}onDeSelectAllProducts(t){0==t.length&&(this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeProductOr=!0,this.recipeChooseCollection=!1,this.recipeCollectionOr=!0,this.classProduct="3")}onSelectAllProducts(t){this.recipeProductError=!1,this.recipeChooseProduct=!0,this.recipeChooseRecipe=!1,this.recipeProductOr=!1,this.recipeChooseCollection=!1,this.recipeCollectionOr=!1,this.classProduct="12"}getListRecipes(){this.recipeService.getRecipes().subscribe(i=>{this.recipeService.removeRecipeData(),this.allRecipes=i.items,this.recipeService.sendAllRecipesData(this.allRecipes)});const t=this.recipeService.getAllRecipesData();this.allRecipes=JSON.parse(t),console.log(this.allRecipes)}onItemSelectRecipe(t){(this.bannerForm.value.productId.length>0||this.bannerForm.value.collectionId.length>0)&&(this.bannerForm.patchValue({productId:[],collectionId:[]}),this.chooseConfirmation()),this.recipeProductError=!1,this.recipeChooseProduct=!1,this.recipeChooseRecipe=!0,this.recipeProductOr=!1,this.recipeChooseCollection=!1,this.recipeCollectionOr=!1,this.classProduct="12",this.clearData()}clearData(){this.bannerForm.patchValue({categoryId:"",subCategoryId:"",productId:""}),this.subCategoryNames=[],this.searchProducts=[]}onSelectAllRecipe(t){this.recipeChooseProduct=!1,this.recipeChooseRecipe=!0,this.recipeProductOr=!1,this.recipeChooseCollection=!1,this.recipeCollectionOr=!1,this.classProduct="12"}DropRecipe(t){0==this.bannerForm.controls.recipeId.value.length&&(this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeProductOr=!0,this.recipeChooseCollection=!1,this.recipeCollectionOr=!0,this.classProduct="3")}onDeSelectAllRecipe(t){0==t.length&&(this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeProductOr=!0,this.recipeChooseCollection=!1,this.recipeCollectionOr=!0,this.classProduct="3")}getListCollections(){this.collectionService.getAllCollection(1,1e3).subscribe(t=>{this.collectionService.removeCollectionsData(),this.allCollections=t.items,this.collectionService.sendAllCollectionsData(this.allCollections)}),this.allCollections=this.collectionService.getAlCollectionsData(),this.allCollections=JSON.parse(this.allCollections)}chooseConfirmation(){this.isChooseNotify||(this.isChooseNotify=!1)}onItemSelectCollection(t){(this.bannerForm.value.productId.length>0||this.bannerForm.value.recipeId.length>0)&&(this.bannerForm.patchValue({productId:[],recipeId:[]}),this.chooseConfirmation()),this.recipeProductError=!1,this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeProductOr=!1,this.recipeChooseCollection=!0,this.recipeCollectionOr=!1,this.classProduct="12",this.clearData()}onSelectAllCollection(t){this.recipeProductError=!1,this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeProductOr=!1,this.recipeCollectionOr=!1,this.recipeChooseCollection=!0,this.classProduct="12",this.clearData()}DropDownCollectionClose(t){0==this.bannerForm.controls.collectionId.value.length&&(this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeProductOr=!0,this.recipeChooseCollection=!1,this.recipeCollectionOr=!0,this.classProduct="3")}onDeSelectCollections(t){0==t.length&&(this.recipeChooseProduct=!1,this.recipeChooseRecipe=!1,this.recipeProductOr=!0,this.recipeChooseCollection=!1,this.recipeCollectionOr=!0,this.classProduct="3")}getProductIds(t){this.recipeProductIDs=[],t.forEach(i=>{this.recipeProductIDs.push(i.productId)}),this.bannerForm.value.productId=this.recipeProductIDs.join(",")}getRecipeIds(t){t.forEach(i=>{this.recipeRecipesID.push(i.recipeId)}),this.bannerForm.value.recipeId=this.recipeRecipesID.join(",")}getcollectionsId(t){t.forEach(i=>{this.bannerCollectionsID.push((null==i?void 0:i.collectionId)?i.collectionId:i)}),this.bannerForm.value.collectionId=this.bannerCollectionsID.join(",")}getSubCategoriesId(t){t.forEach(i=>{this.bannerSubCategoryId.push((null==i?void 0:i.subCategoryId)?i.subCategoryId:i)}),this.bannerForm.value.subCategoryId=this.bannerSubCategoryId.join(",")}getCategoriesId(t){t.forEach(i=>{this.recipeCategoriesID.push((null==i?void 0:i.categoryId)?i.categoryId:i)}),this.bannerForm.value.categoryId=this.recipeCategoriesID.join(",")}getSubCategoriesWithID(t){console.log(t),null==t||t.forEach(i=>{console.log(i);const o=new FormData;o.append("categoryId",i),this.categoryService.getAllSubcategories(o).subscribe(r=>{console.log(r),this.subCategoryList.push(r.items),this.subCategoryName(this.subCategoryList)})})}getProductsWithId(t){let i=!1;t.forEach(r=>{this.catIds.push({categoryId:r})}),this.catIds.forEach(r=>{this.searchString.transform("categoryId",this.allProducts,r.categoryId).forEach(l=>{i=!1,l.productDescription&&(this.productSalePrice=l.salesPrice,this.productavailableQuantity=l.availableQuantity,(0==this.productSalePrice||null==this.productSalePrice||""==this.productSalePrice||null==this.productSalePrice||0==this.productavailableQuantity||null==this.productavailableQuantity||""==this.productavailableQuantity||null==this.productavailableQuantity)&&(i=!0),this.productsName.push({productId:l.productId,productDescription:l.productDescription,isDisabled:i}))}),this.searchProducts=this.productsName.filter(function(l){return""!==l.productDescription})}),this.getListRecipes()}getBannerList(){this.bannerService.getAllBanners().subscribe(t=>{this.bannerList=this.getUniqueListBy(t.items,"featureBannerType")})}changeType(t){this.showCatProdRecipe=t.target.value}base(t){const o=t.target.files[0],r=new FileReader;r.readAsDataURL(o),r.onload=()=>{this.croppedImage=r.result}}fileChangeEvent(t){this.imageType.includes(t.target.files[0].type)?t.target.files[0].size/1024/1024<2?(this.imagesLimitOrType="",this.imageChangedEvent=t):(this.imagesLimitOrType="Image Size Should Be Less Than 2 Mb",this.croppedImage=""):(this.imagesLimitOrType="Invalid File Type",this.croppedImage=""),this.imageMessage=!1}imageCropped(t){this.croppedImage=t.base64,this.imageChangedEvent&&this.dataURLtoFile(this.croppedImage,this.imageChangedEvent.target.files[0].name,this.imageChangedEvent.target.files[0].type)}imageLoaded(){}cropperReady(){}loadImageFailed(){}dataURLtoFile(t,i,o){for(var r=t.split(","),s=atob(r[1]),l=s.length,d=new Uint8Array(l);l--;)d[l]=s.charCodeAt(l);this.imgCropped=new File([d],i,{type:o})}subCategories(){this.subCategoryList=[],this.catIds.forEach(t=>{const i=new FormData;i.append("categoryId",t.categoryId),this.categoryService.getAllSubcategories(i).subscribe(o=>{this.subCategoryList.push(o.items),this.subCategoryName(this.subCategoryList)})})}subCategoryName(t){this.subCategoriesNames=[],t[0].forEach(i=>{this.subCategoriesNames.push({subCategoryId:i.subCategoryId})}),this.subCategoryNames=this.subCategoriesNames}selectSubCategoryEvent(t){var i;this.subCatId.push({subCategoryId:t.subCategoryId}),this.dataForSingleSubcategories(null===(i=this.catIds[0])||void 0===i?void 0:i.categoryId,t.subCategoryId)}onSelectAllSubCategory(t){var i;this.subCatId=t,this.searchProducts=[],this.dataForAllSubcategories(null===(i=this.catIds[0])||void 0===i?void 0:i.categoryId)}DropSubClose(t){let i=!1;this.subCatId.forEach((o,r)=>{o.subCategoryId==t.subCategoryId&&this.subCatId.splice(r,1)}),0===this.subCatId.length&&(this.searchProducts=[]),this.productsName=[],this.subCatId=this.subCatId.filter(function(o){return""!==o.subCategoryId}),this.subCatId.forEach(o=>{o.subCategoryId!=t.subCategoryId&&(this.searchString.transform2("categoryId","subCategoryId",this.allProducts,this.catIds[0].categoryId,o.subCategoryId).forEach(d=>{d.productDescription&&(i=!1,this.productSalePrice=d.salesPrice,this.productavailableQuantity=d.availableQuantity,(0==this.productSalePrice||null==this.productSalePrice||""==this.productSalePrice||null==this.productSalePrice||0==this.productavailableQuantity||null==this.productavailableQuantity||""==this.productavailableQuantity||null==this.productavailableQuantity)&&(i=!0),this.productsName.push({productId:d.productId,productDescription:d.productDescription,isDisabled:i}))}),this.searchProducts=this.productsName.filter(function(d){return""!==d.productDescription}))})}onDeSelectAllSubCategory(t){this.searchProducts=[]}dataForAllSubcategories(t){let r=!1;this.searchString.transform("categoryId",this.allProducts,t).forEach(l=>{l.productDescription&&(r=!1,this.productSalePrice=l.salesPrice,this.productavailableQuantity=l.availableQuantity,(0==this.productSalePrice||null==this.productSalePrice||""==this.productSalePrice||null==this.productSalePrice||0==this.productavailableQuantity||null==this.productavailableQuantity||""==this.productavailableQuantity||null==this.productavailableQuantity)&&(r=!0),this.productsName.push({productId:l.productId,productDescription:l.productDescription,isDisabled:r}))}),this.searchProducts=this.productsName.filter(function(l){return""!==l.productDescription})}dataForSingleSubcategories(t,i){let l=!1;this.searchString.transform2("categoryId","subCategoryId",this.allProducts,t,i).forEach(c=>{c.productDescription&&(l=!1,this.productSalePrice=c.salesPrice,this.productavailableQuantity=c.availableQuantity,(0==this.productSalePrice||null==this.productSalePrice||""==this.productSalePrice||null==this.productSalePrice||0==this.productavailableQuantity||null==this.productavailableQuantity||""==this.productavailableQuantity||null==this.productavailableQuantity)&&(l=!0),this.productsName.push({productId:c.productId,productDescription:c.productDescription,isDisabled:l}))}),this.searchProducts=this.productsName.filter(function(c){return""!==c.productDescription})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S.gz),e.Y36(g.qu),e.Y36(b._W),e.Y36(C),e.Y36(e.R0b),e.Y36(A.M),e.Y36(w.d),e.Y36(S.F0),e.Y36(x.j),e.Y36(M.K),e.Y36(F.a),e.Y36(E.tT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-banner"]],decls:64,vars:17,consts:[[1,"app-main__inner"],[1,"cate-head"],[1,"tab-content"],["id","tabs-1","role","tabpanel",1,"tab-pane","active"],[1,"address-info-form"],["enctype","multipart/form-data",3,"formGroup"],[1,"imges-upload","text-center"],[1,"row"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"imgUp","m-auto"],["class","imagePreview",4,"ngIf"],[1,"btn","btn-primary"],["type","file","name","featureBannerImage","value","Upload Photo",1,"uploadFile","img",2,"width","0px","height","0px","overflow","hidden",3,"change"],["class","invalid-formdata",4,"ngIf"],[1,"form-group"],["for","inputAddress"],["id","","name","featureBannerType","formControlName","featureBannerType",1,"form-control",3,"change"],["selected","","value",""],["value","Home"],["value","Category"],["type","number","name","sequenceNumber","min","1","formControlName","sequenceNumber","placeholder","",1,"form-control"],["class","form-row",4,"ngIf"],[1,"info-per-btn"],["type","submit",1,"save-btn",3,"disabled","click"],["src","assets/images/formload.gif","class","form-button-loader",4,"ngIf"],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade","customer-delete-model"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalCenterTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","save-btn",3,"click"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","cancel-btn"],["template",""],[1,"imagePreview"],[3,"src",4,"ngIf"],[3,"src"],[1,"invalid-formdata"],[1,"form-row"],[1,"form-group","col-md-6"],["formControlName","categoryId",3,"settings","data","onSelect","onSelectAll","onDeSelect","onDeSelectAll"],["formControlName","subCategoryId",3,"settings","data","onSelect","onSelectAll","onDeSelect","onDeSelectAll"],[1,"form-group","col-md-3"],["formControlName","productId",3,"settings","data","onSelect","onSelectAll","onDeSelect","onDeSelectAll"],[1,"col-md-1","m-auto"],[1,"devider-class"],["formControlName","recipeId",3,"settings","data","onSelect","onSelectAll","onDeSelect","onDeSelectAll"],["formControlName","collectionId",3,"settings","data","onSelect","onSelectAll","onDeSelect","onDeSelectAll"],["src","assets/images/formload.gif",1,"form-button-loader"],[1,"customer-delete-model"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["Cancel","",1,"modal-footer"],["type","button",1,"btn","cancel-btn",3,"click"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"section",4),e.TgZ(6,"form",5),e.TgZ(7,"div",6),e.TgZ(8,"p"),e._uU(9,"Banner Picture"),e.qZA(),e.TgZ(10,"div",7),e.TgZ(11,"image-cropper",8),e.NdJ("imageCropped",function(s){return i.imageCropped(s)})("imageLoaded",function(){return i.imageLoaded()})("cropperReady",function(){return i.cropperReady()})("loadImageFailed",function(){return i.loadImageFailed()}),e.qZA(),e.qZA(),e.TgZ(12,"div",9),e.YNc(13,O,2,1,"div",10),e.YNc(14,k,2,1,"div",10),e.YNc(15,W,2,2,"div",10),e.TgZ(16,"label",11),e._uU(17," Upload"),e.TgZ(18,"input",12),e.NdJ("change",function(s){return i.fileChangeEvent(s)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(19,j,2,0,"div",13),e.YNc(20,V,2,1,"div",13),e.qZA(),e.TgZ(21,"div",14),e.TgZ(22,"label",15),e._uU(23,"Banner Type"),e.qZA(),e.TgZ(24,"select",16),e.NdJ("change",function(s){return i.changeType(s)}),e.TgZ(25,"option",17),e._uU(26,"Choose Banner Type"),e.qZA(),e.TgZ(27,"option",18),e._uU(28,"Home"),e.qZA(),e.TgZ(29,"option",19),e._uU(30,"Category"),e.qZA(),e.qZA(),e.YNc(31,K,2,0,"div",13),e.qZA(),e.TgZ(32,"div",14),e.TgZ(33,"label",15),e._uU(34,"Sequence Number"),e.qZA(),e._UZ(35,"input",20),e.YNc(36,G,2,0,"div",13),e.YNc(37,X,2,0,"div",13),e.qZA(),e.YNc(38,ee,30,11,"div",21),e.TgZ(39,"div",22),e.TgZ(40,"button",23),e.NdJ("click",function(){e.CHM(o);const s=e.MAs(63);return i.openModal(s)}),e._uU(41),e.qZA(),e.YNc(42,te,1,0,"img",24),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",25),e.TgZ(44,"div",26),e.TgZ(45,"div",27),e.TgZ(46,"div",28),e.TgZ(47,"h5",29),e._uU(48,"Delete Image"),e.qZA(),e.TgZ(49,"button",30),e.TgZ(50,"span",31),e._uU(51,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(52,"div",32),e.TgZ(53,"h2"),e._uU(54,"Are You Sure?"),e.qZA(),e.TgZ(55,"p"),e._uU(56,"Do you really want to delete this Image?"),e.qZA(),e.qZA(),e.TgZ(57,"div",33),e.TgZ(58,"button",34),e.NdJ("click",function(){return i.deleteSingleImage()}),e._uU(59,"Delete"),e.qZA(),e.TgZ(60,"button",35),e._uU(61,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(62,ie,15,1,"ng-template",null,36,e.W1O)}2&t&&(e.xp6(2),e.Oqu(i.title),e.xp6(4),e.Q6J("formGroup",i.bannerForm),e.xp6(5),e.Q6J("imageChangedEvent",i.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",2),e.xp6(2),e.Q6J("ngIf",!i.bannerID),e.xp6(1),e.Q6J("ngIf",i.bannerID&&i.croppedImage),e.xp6(1),e.Q6J("ngIf",i.bannerID&&!i.croppedImage),e.xp6(4),e.Q6J("ngIf",i.imageMessage),e.xp6(1),e.Q6J("ngIf",i.imagesLimitOrType),e.xp6(11),e.Q6J("ngIf",i.submitted&&i.f.featureBannerType.errors),e.xp6(5),e.Q6J("ngIf",i.submitted&&i.f.sequenceNumber.errors&&!(null!=i.f.sequenceNumber.errors&&i.f.sequenceNumber.errors.min)),e.xp6(1),e.Q6J("ngIf",null==i.f.sequenceNumber.errors?null:i.f.sequenceNumber.errors.min),e.xp6(1),e.Q6J("ngIf","Home"==i.showCatProdRecipe),e.xp6(2),e.Q6J("disabled",i.isLoaderImage),e.xp6(1),e.Oqu(i.buttonName),e.xp6(1),e.Q6J("ngIf",i.isLoaderImage))},directives:[g._Y,g.JL,g.sg,R.ap,B.O5,g.EJ,g.JJ,g.u,g.YN,g.Kr,g.qQ,g.wV,g.Fj,J.OP],styles:[".invalid-formdata[_ngcontent-%COMP%]{color:red}.collection-recipe-banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:225px;border-radius:8px;object-fit:cover}.collection-recipe-banner[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;margin:0 auto}.collection-recipe-banner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:-6px;background-color:#23b412;border-radius:25px;color:#fff;font-size:18px;width:30px;height:30px;line-height:30px;right:-10px;cursor:pointer}.collection-recipe-banner[_ngcontent-%COMP%]   .fa-trash-o[_ngcontent-%COMP%]{background-color:#b70505;right:27px}.address-info-form[_ngcontent-%COMP%]{overflow:inherit}.save-btn[_ngcontent-%COMP%]{text-transform:capitalize}"]}),n})();var ne=h(9861),N=h(8265);const oe=function(n){return["/banners/detail",n]},re=function(n){return["/banners/edit",n]};function ae(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._UZ(9,"img",29),e.qZA(),e.TgZ(10,"td"),e.TgZ(11,"a",30),e._UZ(12,"i",31),e.qZA(),e.TgZ(13,"a",32),e._UZ(14,"i",33),e.qZA(),e.TgZ(15,"a",34),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().openDeletePopup(r.featureBannerId)}),e._UZ(16,"i",35),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw();e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(e.xi3(5,7,t.featureBannerDate,"longDate")),e.xp6(3),e.Oqu(t.featureBannerType),e.xp6(2),e.hYB("src","",o.imagePath,"/",t.featureBannerImage,"",e.LSH),e.xp6(2),e.Q6J("routerLink",e.VKq(10,oe,t.featureBannerId)),e.xp6(2),e.Q6J("routerLink",e.VKq(12,re,t.featureBannerId))}}function se(n,a){1&n&&(e.TgZ(0,"div"),e.TgZ(1,"p",36),e._uU(2,"Record Not Found"),e.qZA(),e.qZA())}function le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"pagination-controls",37),e.NdJ("pageChange",function(o){return e.CHM(t),e.oxw().p=o}),e.qZA()}}const ce=function(){return["/banners/add"]},de=function(n,a){return{itemsPerPage:10,currentPage:n,totalItems:a}};let ue=(()=>{class n{constructor(t,i,o,r,s){this.bannerService=t,this.spinner=i,this.toastr=o,this.zone=r,this.serchString=s,this.p=1,this.imagePath=q.N.imagePath}ngOnInit(){this.getBannerList()}getBannerList(){this.spinner.show(),this.bannerService.getAllBanners().subscribe(t=>{this.bannerList=t.items,this.bannerListWithSearch=t.items,this.total=t.items.length,this.spinner.hide()})}openDeletePopup(t){this.bannerID="",this.bannerID=t,console.log(this.bannerID)}bannerDelete(){const t=this;this.bannerService.deletebanner(this.bannerID).subscribe(i=>{i.success?(t.zone.run(()=>{this.getBannerList()}),this.toastr.success(i.message)):this.toastr.success(i.message)})}bannerTypeSearch(t){const i=t.target.value.replace(/^\s+|\s+$/gm,"");this.bannerListWithSearch=this.serchString.transform("featureBannerType",this.bannerList,i),this.p=1,this.total=this.bannerListWithSearch.length}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C),e.Y36(ne.t2),e.Y36(b._W),e.Y36(e.R0b),e.Y36(M.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-banners"]],decls:58,vars:11,consts:[[1,"app-main__inner"],[1,"user-header"],[3,"routerLink"],[1,"user-header","customers-header"],[1,"row"],[1,"col-md-6"],[1,"search-banner"],["id","","name","featureBannerType",1,"form-control",3,"change"],["selected","","value",""],["value","Home"],["value","Category"],[1,"user-list-table"],[1,"table"],[1,"",2,"background-color","#8eb73b"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageChange",4,"ngIf"],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade","customer-delete-model"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalCenterTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","save-btn",3,"click"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","cancel-btn"],[3,"src"],[1,"eye-btn",3,"routerLink"],["aria-hidden","true",1,"fa","fa-eye"],[1,"edit-btn",3,"routerLink"],["aria-hidden","true",1,"fa","fa-pencil"],["href","","type","button","data-toggle","modal","data-target","#exampleModalCenter",1,"cross-btn-table",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[2,"text-align","center","font-size","20px","padding-top","10px"],[3,"pageChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3"),e._uU(3,"Banners List "),e.TgZ(4,"a",2),e._uU(5,"Add New Banner"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e._UZ(8,"div",5),e.TgZ(9,"div",5),e.TgZ(10,"div",6),e.TgZ(11,"label"),e._uU(12,"Banner Type"),e.qZA(),e.TgZ(13,"select",7),e.NdJ("change",function(r){return i.bannerTypeSearch(r)}),e.TgZ(14,"option",8),e._uU(15,"Choose Banner Type"),e.qZA(),e.TgZ(16,"option",9),e._uU(17,"Home"),e.qZA(),e.TgZ(18,"option",10),e._uU(19,"Category"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"table",12),e.TgZ(22,"thead",13),e.TgZ(23,"tr"),e.TgZ(24,"th",14),e._uU(25,"S No."),e.qZA(),e.TgZ(26,"th",14),e._uU(27," Date"),e.qZA(),e.TgZ(28,"th",14),e._uU(29,"Banner Type"),e.qZA(),e.TgZ(30,"th",14),e._uU(31,"Banner Image"),e.qZA(),e.TgZ(32,"th",14),e._uU(33,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"tbody"),e.YNc(35,ae,17,14,"tr",15),e.ALo(36,"paginate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(37,se,3,0,"div",16),e.YNc(38,le,1,0,"pagination-controls",17),e.qZA(),e.TgZ(39,"div",18),e.TgZ(40,"div",19),e.TgZ(41,"div",20),e.TgZ(42,"div",21),e.TgZ(43,"h5",22),e._uU(44,"Delete Banner"),e.qZA(),e.TgZ(45,"button",23),e.TgZ(46,"span",24),e._uU(47,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",25),e.TgZ(49,"h2"),e._uU(50,"Are You Sure?"),e.qZA(),e.TgZ(51,"p"),e._uU(52,"Do you really want to delete this Banner data?"),e.qZA(),e.qZA(),e.TgZ(53,"div",26),e.TgZ(54,"button",27),e.NdJ("click",function(){return i.bannerDelete()}),e._uU(55,"Delete"),e.qZA(),e.TgZ(56,"button",28),e._uU(57,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(7,ce)),e.xp6(31),e.Q6J("ngForOf",e.xi3(36,4,i.bannerListWithSearch,e.WLB(8,de,i.p,i.total))),e.xp6(2),e.Q6J("ngIf",""==i.bannerListWithSearch),e.xp6(1),e.Q6J("ngIf",""!=i.bannerListWithSearch&&i.total>10))},directives:[S.yS,g.YN,g.Kr,B.sg,B.O5,N.LS],pipes:[N._s,B.uU],styles:[".search-banner[_ngcontent-%COMP%]{width:50%;float:right}.user-header[_ngcontent-%COMP%]   .search-banner[_ngcontent-%COMP%]   select.form-control[_ngcontent-%COMP%]{background-color:#fff!important;color:gray}.user-list-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:50px}"]}),n})();class pe{}const he=[{path:"",component:ue},{path:"add",component:Q},{path:"edit/:id",component:Q},{path:"detail/:id",component:(()=>{class n{constructor(t,i,o){this.bannerService=t,this.activatedRoute=i,this.router=o,this.imagePath=q.N.imagePath,this.bannerData=new pe}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.bannerId=t.id,this.getBannerDetail(this.bannerId)})}getBannerDetail(t){this.bannerService.bannerDetail(t).subscribe(i=>{this.bannerData=i.data})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C),e.Y36(S.gz),e.Y36(S.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-single-banner"]],decls:26,vars:4,consts:[[1,"app-main__inner"],[1,"user-header","customers-header"],[1,"user-list-images"],[1,"row"],[1,"col-md-6"],[1,"mb-4"],[1,"col-md-12"],[1,"collection-detail-img"],[3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3"),e._uU(3,"Banner Detail "),e.qZA(),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"ul"),e.TgZ(8,"li"),e.TgZ(9,"b"),e._uU(10,"Date:"),e.qZA(),e._uU(11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",4),e.TgZ(13,"ul"),e.TgZ(14,"li"),e.TgZ(15,"b"),e._uU(16,"Banner Type:"),e.qZA(),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",2),e.TgZ(19,"h5",5),e._uU(20,"Banner image"),e.qZA(),e.TgZ(21,"div",3),e.TgZ(22,"div",6),e.TgZ(23,"div",6),e.TgZ(24,"div",7),e._UZ(25,"img",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(11),e.hij(" ",null==i.bannerData?null:i.bannerData.createDate,""),e.xp6(6),e.hij(" ",null==i.bannerData?null:i.bannerData.featureBannerType,""),e.xp6(8),e.hYB("src","",i.imagePath,"/",i.bannerData.featureBannerImage,"",e.LSH))},styles:[".user-list-images[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:250px;display:inline-block}.col-md-4[_ngcontent-%COMP%]{float:left}"]}),n})()}];let ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[S.Bz.forChild(he)],S.Bz]}),n})();var me=h(7732),fe=h(8239),v=(()=>{return(n=v||(v={}))[n.Up=1]="Up",n[n.Down=3]="Down",n[n.Right=6]="Right",n[n.Left=8]="Left",n[n.UpMirrored=2]="UpMirrored",n[n.DownMirrored=4]="DownMirrored",n[n.LeftMirrored=5]="LeftMirrored",n[n.RightMirrored=7]="RightMirrored",n[n.Default=0]="Default",n[n.NotJpeg=-1]="NotJpeg",n[n.NotDefined=-2]="NotDefined",v;var n})();class f{}f.getOrientation=n=>new Promise((a,t)=>{try{const i=new FileReader;i.onload=()=>{const o=new DataView(i.result);if(!o.byteLength||65496!==o.getUint16(0,!1))return a(v.NotDefined);const r=o.byteLength;let s=2;for(;s<r;){const l=o.getUint16(s,!1);if(s+=2,65505===l){if(1165519206!==o.getUint32(s+=2,!1))return a(v.NotJpeg);const d=18761===o.getUint16(s+=6,!1);s+=o.getUint32(s+4,d);const c=o.getUint16(s,d);s+=2;for(let u=0;u<c;u++)if(274===o.getUint16(s+12*u,d))return a(o.getUint16(s+12*u+8,d))}else{if(65280!=(65280&l))break;s+=o.getUint16(s,!1)}}return a(v.NotJpeg)},i.readAsArrayBuffer(n)}catch(i){return t(v.Default)}}),f.uploadFile=(n,a=!0)=>new Promise(function(t,i){f.generateUploadInput(n,a).then(o=>{const r=Array.from(o),s=r.map(c=>f.getOrientation(c)),l=r.map(c=>f.fileToDataURL(c));let d=[];Promise.all(s).then(c=>(d=c,Promise.all(l))).then(c=>{if(a){const u=c.map((p,I)=>({image:p,orientation:d[I]}));t(u)}else t({image:c[0],orientation:d[0]})})})}),f.fileToDataURL=n=>new Promise((a,t)=>{const i=new FileReader;i.onload=o=>{a(o.target.result)};try{i.readAsDataURL(n)}catch(o){t(`ngx-image-compress - probably no file have been selected: ${o}`)}}),f.generateUploadInput=(n,a=!0)=>new Promise((t,i)=>{var r,s;const o=n.createElement("input");null==(s=null==(r=document.getElementsByTagName("body"))?void 0:r[0])||s.append(o),n.setStyle(o,"display","none"),n.setProperty(o,"type","file"),n.setProperty(o,"accept","image/*"),a&&n.setProperty(o,"multiple","true"),n.listen(o,"click",l=>{l.target.value=""}),n.listen(o,"change",l=>{t(l.target.files)}),o.click()}),f.compress=(n,a,t,i=50,o=50,r=0,s=0)=>new Promise(function(l,d){o/=100,i/=100;const c=new Image;c.onload=()=>{const u=t.createElement("canvas"),p=u.getContext("2d");if(!p)return d("No canvas context available");let I=c.naturalWidth,T=c.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(a===v.Right||a===v.Left)){const ve=I;I=T,T=ve}i=Math.min(i,r?r/I:1,s?s/T:1),u.width=I*i,u.height=T*i;const y=Math.PI/180;CSS.supports("image-orientation","from-image")||a===v.Up?p.drawImage(c,0,0,u.width,u.height):a===v.Right?(p.save(),p.rotate(90*y),p.translate(0,-u.width),p.drawImage(c,0,0,u.height,u.width),p.restore()):a===v.Left?(p.save(),p.rotate(-90*y),p.translate(-u.width,0),p.drawImage(c,0,0,u.height,u.width),p.restore()):a===v.Down?(p.save(),p.rotate(180*y),p.translate(-u.width,-u.height),p.drawImage(c,0,0,u.width,u.height),p.restore()):p.drawImage(c,0,0,u.width,u.height);const D=n.substr(5,n.split(";")[0].length-5),P=u.toDataURL(D,o);l(P)},c.onerror=u=>d(u),c.src=n}),f.byteCount=n=>encodeURI(n).split(/%..|./).length-1,f.getImageMaxSize=function(){var n=(0,fe.Z)(function*(a,t,i){const r=d=>(d/1024/1024).toFixed(2);t&&console.debug("NgxImageCompress - Opening upload window");let l,s=yield f.uploadFile(i,!1);for(let d=0;d<10;d++){const c=f.byteCount(s.image);l=yield f.compress(s.image,s.orientation,i,50,100);const u=f.byteCount(l);if(console.debug("NgxImageCompress -","Compression from",r(c),"MB to",r(u),"MB"),u>=c)throw 0===d?(t&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",r(c),"MB large"),s.image):(t&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",r(c),"MB large"),s.image);if(u<1024*a*1024)return t&&console.debug("NgxImageCompress -","Here your file",r(u),"MB large"),l;if(9===d)throw t&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",r(c),"MB large"),s.image;t&&console.debug("NgxImageCompress -","Reached",r(u),"MB large. Trying another time after",d+1,"times"),s.image=l}throw t&&console.debug("NgxImageCompress - Unexpected error"),""});return function(a,t,i){return n.apply(this,arguments)}}();let Ce=(()=>{class n{constructor(t){this.DOC_ORIENTATION=v,this.render=t.createRenderer(null,null)}byteCount(t){return f.byteCount(t)}getOrientation(t){return f.getOrientation(t)}uploadFile(){return f.uploadFile(this.render,!1)}uploadMultipleFiles(){return f.uploadFile(this.render,!0)}compressFile(t,i,o=50,r=50,s=0,l=0){return f.compress(t,i,this.render,o,r,s,l)}uploadAndGetImageWithMaxSize(t=1,i=!1){return f.getImageMaxSize(t,i,this.render)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.FYo))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[M.K,Ce],imports:[[B.ez,ge,g.UX,g.u5,N.JX,me.c8,J.ZQ.forRoot(),R.QG]]}),n})()}}]);