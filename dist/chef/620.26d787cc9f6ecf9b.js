"use strict";(self.webpackChunkchef=self.webpackChunkchef||[]).push([[620],{7875:(q,T,c)=>{c.d(T,{K:()=>A});var Z=c(3668);let A=(()=>{class t{transform(a,g,d){return void 0===d?g:a?(console.log(a),g.filter(u=>null!=u[a]&&u[a].toString().toLowerCase().includes(d.toLowerCase()))):g.filter(u=>Object.keys(u).some(l=>null!=u[l]&&u[l].toString().toLowerCase().includes(d.toLowerCase())))}transform2(a,g,d,u,l){return void 0===u?d:a&&g?(console.log(u),console.log(l),d.filter(m=>m[a]==u&&m[g]==l)):void 0}transform3(a,g,d,u,l,m,h){return void 0===l?u:a&&g&&d?(console.log(l),console.log(m),u.filter(p=>p[a]==l&&p[g]==m&&p[d]==h)):void 0}transform4(a,g,d,u,l,m,h,p,_){return void 0===m?l:a&&g&&d?(console.log(m),console.log(h),l.filter(f=>f[a]==m&&f[g]==h&&f[d]==p&&f[u]==_)):void 0}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275pipe=Z.Yjl({name:"searchString",type:t,pure:!0}),t})()},7620:(q,T,c)=>{c.r(T),c.d(T,{CustomersModule:()=>w});var Z=c(6019),A=c(8994),t=c(3668);let C=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-customer"]],decls:41,vars:0,consts:[[1,"app-main__inner"],[1,"tab-content"],[1,"user-header"],[1,"address-info-form"],[1,"form-row"],[1,"form-group","col-md-6"],["for","inputEmail4"],["type","text","id","","placeholder","",1,"form-control"],["for","inputPassword4"],[1,"form-group","col-md-12"],[1,"form-group"],["for","exampleFormControlTextarea1"],["id","exampleFormControlTextarea1","rows","3",1,"form-control"],[1,"info-per-btn"],["href","",1,"save-btn"],["href","",1,"cancel-btn"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h3"),t._uU(4,"Add New Customers "),t.qZA(),t.qZA(),t.TgZ(5,"section",3),t.TgZ(6,"form"),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"label",6),t._uU(10,"First Name"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"div",5),t.TgZ(13,"label",8),t._uU(14,"Last Name"),t.qZA(),t._UZ(15,"input",7),t.qZA(),t.qZA(),t.TgZ(16,"div",4),t.TgZ(17,"div",5),t.TgZ(18,"label",6),t._uU(19,"Joining Date"),t.qZA(),t._UZ(20,"input",7),t.qZA(),t.TgZ(21,"div",5),t.TgZ(22,"label",8),t._uU(23,"Joining Time"),t.qZA(),t._UZ(24,"input",7),t.qZA(),t.qZA(),t.TgZ(25,"div",4),t.TgZ(26,"div",9),t.TgZ(27,"label",6),t._uU(28,"Location"),t.qZA(),t._UZ(29,"input",7),t.qZA(),t.qZA(),t.TgZ(30,"div",4),t.TgZ(31,"div",9),t.TgZ(32,"div",10),t.TgZ(33,"label",11),t._uU(34,"Bio"),t.qZA(),t._UZ(35,"textarea",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",13),t.TgZ(37,"a",14),t._uU(38,"Save"),t.qZA(),t.TgZ(39,"a",15),t._uU(40,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA())},styles:[""]}),o})();var a=c(8260),g=c(9861),d=c(2387),u=c(4049),l=c(7875),m=c(8265);function h(o,i){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.totalOrders)}}function p(o,i){1&o&&(t.TgZ(0,"td"),t._uU(1,"0"),t.qZA())}function _(o,i){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" AED ",t.xi3(2,1,null==e?null:e.totalSpents,"1.2-2"),"")}}function f(o,i){1&o&&(t.TgZ(0,"td"),t._uU(1,"0"),t.qZA())}function v(o,i){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.YNc(14,h,2,1,"td",20),t.YNc(15,p,2,0,"td",20),t.YNc(16,_,3,4,"td",20),t.YNc(17,f,2,0,"td",20),t.TgZ(18,"td"),t._uU(19),t.ALo(20,"date"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.qZA()),2&o){const e=i.$implicit,s=i.index;t.xp6(2),t.Oqu(s+1),t.xp6(2),t.Oqu(e.custAccount),t.xp6(2),t.Oqu(t.xi3(7,13,e.customerCreationDate,"longDate")),t.xp6(3),t.AsE("",e.firstName," ",e.lastName,""),t.xp6(2),t.Oqu(e.dataOrigin),t.xp6(2),t.Oqu(e.addressCity),t.xp6(1),t.Q6J("ngIf",null==e?null:e.totalOrders),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.totalOrders)),t.xp6(1),t.Q6J("ngIf",null==e?null:e.totalSpents),t.xp6(1),t.Q6J("ngIf",!(null!=e&&e.totalSpents)),t.xp6(2),t.Oqu(t.xi3(20,16,e.lastOrderDate,"longDate")),t.xp6(3),t.Oqu(e.customerStatus)}}function S(o,i){1&o&&(t.TgZ(0,"div"),t.TgZ(1,"p",22),t._uU(2,"Record Not Found"),t.qZA(),t.qZA())}function U(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"pagination-controls",23),t.NdJ("pageChange",function(n){return t.CHM(e),t.oxw().p=n}),t.qZA()}}const L=function(o,i){return{itemsPerPage:10,currentPage:o,totalItems:i}},x=[{path:"",component:(()=>{class o{constructor(e,s,n,r,N){this.spinner=e,this.toastr=s,this.dashboardService=n,this.datepipe=r,this.searchString=N,this.customersList=[],this.p=1,this.filePath=a.N.imagePath}ngOnInit(){this.getCustomerList({downloadReport:!1})}getCustomerList(e){this.spinner.show(),this.dashboardService.clearCustomerListData(),this.dashboardService.customerList(e).subscribe(s=>{s.items.forEach(n=>{n.customerName=n.firstName+" "+n.lastName,this.customersList.push(n)}),this.dashboardService.sendCustomerListData(this.customersList),this.sortByCustomers("new",this.customersList),this.total=this.customersList.length,this.spinner.hide()})}typeBySearch(e,s){this.customersListWihtSearch=this.searchString.transform("customerName",this.customersList,e.target.value),this.p=1,this.total=this.customersListWihtSearch.length}exportAllCustomers(){this.dashboardService.customerList({downloadReport:!0}).subscribe(s=>{if(s.success){let n=this.filePath+"/images/csvfile/"+s.data;n&&window.open(n,"_blank"),this.toastr.success(s.message)}else this.toastr.success(s.message)})}sortByDate(e,s){let n=this.dashboardService.getCustomerListData();n=JSON.parse(n),console.log(e.target.value,s),"isCustomerNew"==s?this.sortByoldNew(e.target.value,n):"lastOrderDate"==s?this.sortByLastOrders(e.target.value,n):"totalSpents"==s&&this.sortByAmountSpent(e.target.value,n),console.log(this.customersListWihtSearch),this.p=1,this.total=this.customersListWihtSearch.length}sortByoldNew(e,s){let n=this.searchString.transform("isCustomerNew",s,e);this.sortByLastOrders("new",n)}sortByCustomers(e,s){"new"==e?this.customersListWihtSearch=s.sort(function(n,r){return new Date(r.customerCreationDate).getTime()-new Date(n.customerCreationDate).getTime()}):"old"==e&&(this.customersListWihtSearch=s.sort(function(n,r){return new Date(n.customerCreationDate).getTime()-new Date(r.customerCreationDate).getTime()}))}sortByLastOrders(e,s){console.log(e),"new"==e?this.customersListWihtSearch=s.sort(function(n,r){return new Date(r.lastOrderDate).getTime()-new Date(n.lastOrderDate).getTime()}):"old"==e&&(this.customersListWihtSearch=s.sort(function(n,r){return new Date(n.lastOrderDate).getTime()-new Date(r.lastOrderDate).getTime()}))}sortByAmountSpent(e,s){"high"==e?this.customersListWihtSearch=s.sort(function(n,r){return r.totalSpents-n.totalSpents}):"low"==e&&(this.customersListWihtSearch=s.sort(function(n,r){return n.totalSpents-r.totalSpents}))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(g.t2),t.Y36(d._W),t.Y36(u.s),t.Y36(Z.uU),t.Y36(l.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-customers"]],decls:65,vars:9,consts:[[1,"app-main__inner"],[1,"user-header","customers-header"],[1,"exportorder",3,"click"],["aria-hidden","true",1,"fa","fa-download"],[1,"user-header","customers-header","choose-cate"],[1,"row"],[1,"col-md-4"],[1,"search-banner"],["type","text","id","","name","searchByName","placeholder","Customer Name","autocomplete","off",1,"form-control",3,"input"],["id","","name","searchByPayment",1,"form-control",3,"change"],["selected","","value",""],["value","true"],["value","false"],["value","high"],["value","low"],[1,"user-list-table"],[1,"table"],[1,"",2,"background-color","#8eb73b"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageChange",4,"ngIf"],[2,"text-align","center","font-size","20px","padding-top","10px"],[3,"pageChange"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h3"),t._uU(3,"Customers "),t.TgZ(4,"a",2),t.NdJ("click",function(){return s.exportAllCustomers()}),t._UZ(5,"i",3),t._uU(6," Export Customers"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"div",5),t.TgZ(9,"div",6),t.TgZ(10,"div",7),t.TgZ(11,"label"),t._uU(12,"Customer Name"),t.qZA(),t.TgZ(13,"input",8),t.NdJ("input",function(r){return s.typeBySearch(r,"firstName")}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",6),t.TgZ(15,"div",7),t.TgZ(16,"label"),t._uU(17,"Customers"),t.qZA(),t.TgZ(18,"select",9),t.NdJ("change",function(r){return s.sortByDate(r,"isCustomerNew")}),t.TgZ(19,"option",10),t._uU(20,"Customers"),t.qZA(),t.TgZ(21,"option",11),t._uU(22,"New Customers"),t.qZA(),t.TgZ(23,"option",12),t._uU(24,"Old Customers"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"div",6),t.TgZ(26,"div",7),t.TgZ(27,"label"),t._uU(28,"Amount Spent"),t.qZA(),t.TgZ(29,"select",9),t.NdJ("change",function(r){return s.sortByDate(r,"totalSpents")}),t.TgZ(30,"option",10),t._uU(31,"Amount Spent"),t.qZA(),t.TgZ(32,"option",13),t._uU(33,"High to Low"),t.qZA(),t.TgZ(34,"option",14),t._uU(35,"Low to High"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",15),t.TgZ(37,"table",16),t.TgZ(38,"thead",17),t.TgZ(39,"tr"),t.TgZ(40,"th",18),t._uU(41,"S No."),t.qZA(),t.TgZ(42,"th",18),t._uU(43,"Cust Account"),t.qZA(),t.TgZ(44,"th",18),t._uU(45,"Join Date"),t.qZA(),t.TgZ(46,"th",18),t._uU(47,"Customer Name"),t.qZA(),t.TgZ(48,"th",18),t._uU(49,"Data Origin"),t.qZA(),t.TgZ(50,"th",18),t._uU(51,"City"),t.qZA(),t.TgZ(52,"th",18),t._uU(53,"Total Orders"),t.qZA(),t.TgZ(54,"th",18),t._uU(55,"Total Spent"),t.qZA(),t.TgZ(56,"th",18),t._uU(57,"Last Order Date"),t.qZA(),t.TgZ(58,"th",18),t._uU(59,"Status"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(60,"tbody"),t.YNc(61,v,23,19,"tr",19),t.ALo(62,"paginate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(63,S,3,0,"div",20),t.YNc(64,U,1,0,"pagination-controls",21),t.qZA(),t.qZA()),2&e&&(t.xp6(61),t.Q6J("ngForOf",t.xi3(62,3,s.customersListWihtSearch,t.WLB(6,L,s.p,s.total))),t.xp6(2),t.Q6J("ngIf",""==s.customersListWihtSearch),t.xp6(1),t.Q6J("ngIf",""!=s.customersListWihtSearch&&s.total>10))},directives:[Z.sg,Z.O5,m.LS],pipes:[m._s,Z.uU,Z.JJ],styles:[".customers-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:100%;margin-bottom:10px}.user-list-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:14px}.user-list-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px}"]}),o})()},{path:"add",component:C},{path:"edit/:id",component:C}];let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[A.Bz.forChild(x)],A.Bz]}),o})(),w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[l.K,Z.uU],imports:[[Z.ez,O,m.JX]]}),o})()}}]);