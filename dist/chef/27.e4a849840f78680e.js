"use strict";(self.webpackChunkchef=self.webpackChunkchef||[]).push([[27],{7875:(A,y,d)=>{d.d(y,{K:()=>C});var f=d(3668);let C=(()=>{class s{transform(a,u,l){return void 0===l?u:a?(console.log(a),u.filter(c=>null!=c[a]&&c[a].toString().toLowerCase().includes(l.toLowerCase()))):u.filter(c=>Object.keys(c).some(r=>null!=c[r]&&c[r].toString().toLowerCase().includes(l.toLowerCase())))}transform2(a,u,l,c,r){return void 0===c?l:a&&u?(console.log(c),console.log(r),l.filter(p=>p[a]==c&&p[u]==r)):void 0}transform3(a,u,l,c,r,p,Z){return void 0===r?c:a&&u&&l?(console.log(r),console.log(p),c.filter(h=>h[a]==r&&h[u]==p&&h[l]==Z)):void 0}transform4(a,u,l,c,r,p,Z,h,T){return void 0===p?r:a&&u&&l?(console.log(p),console.log(Z),r.filter(_=>_[a]==p&&_[u]==Z&&_[l]==h&&_[c]==T)):void 0}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275pipe=f.Yjl({name:"searchString",type:s,pure:!0}),s})()},9027:(A,y,d)=>{d.r(y),d.d(y,{CitiesModule:()=>P});var f=d(6019),C=d(8994),s=d(7537),t=d(3668),a=d(8429),u=d(2387),l=d(7875),c=d(9861),r=d(8265);function p(i,n){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.createDate,"longDate"))}}function Z(i,n){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.modifyDate,"longDate"))}}function h(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.YNc(3,p,3,4,"td",13),t.YNc(4,Z,3,4,"td",13),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t.TgZ(10,"a",27),t.NdJ("click",function(){const m=t.CHM(e).$implicit;return t.oxw().getSingleCityRecord(m)}),t._UZ(11,"i",28),t.qZA(),t.TgZ(12,"a",29),t.NdJ("click",function(){const m=t.CHM(e).$implicit;return t.oxw().deleteCity(m.cityId)}),t._UZ(13,"i",30),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=n.$implicit,o=n.index;t.xp6(2),t.Oqu(o+1),t.xp6(1),t.Q6J("ngIf",!e.modifyDate),t.xp6(1),t.Q6J("ngIf",e.modifyDate),t.xp6(2),t.Oqu(e.cityCode),t.xp6(2),t.Oqu(e.cityName)}}function T(i,n){1&i&&(t.TgZ(0,"div"),t.TgZ(1,"p",31),t._uU(2,"Record Not Found"),t.qZA(),t.qZA())}function _(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"pagination-controls",32),t.NdJ("pageChange",function(g){return t.CHM(e),t.oxw().p=g}),t.qZA()}}function q(i,n){if(1&i&&(t.TgZ(0,"option",47),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.s9C("value",e.countryId),t.xp6(1),t.Oqu(e.countryName)}}function x(i,n){1&i&&(t.TgZ(0,"div",48),t._uU(1," Country Name is required "),t.qZA())}function b(i,n){1&i&&(t.TgZ(0,"div",48),t._uU(1," Vat Group is required "),t.qZA())}function N(i,n){1&i&&(t.TgZ(0,"div",48),t._uU(1," Vat Group Cannot contain only spaces "),t.qZA())}function U(i,n){1&i&&(t.TgZ(0,"div",48),t._uU(1," City Name is required "),t.qZA())}function S(i,n){1&i&&(t.TgZ(0,"div",48),t._uU(1," City Name Cannot contain only spaces "),t.qZA())}function I(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",33),t.TgZ(1,"div",17),t.TgZ(2,"div",18),t.TgZ(3,"div",19),t.TgZ(4,"h5",34),t._uU(5),t.qZA(),t.TgZ(6,"button",21),t.TgZ(7,"span",22),t._uU(8,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",35),t.TgZ(10,"form",36),t.TgZ(11,"div",37),t.TgZ(12,"label",38),t._uU(13,"Country Name"),t.qZA(),t.TgZ(14,"select",39),t.TgZ(15,"option",40),t._uU(16,"Choose Country Name"),t.qZA(),t.YNc(17,q,2,2,"option",41),t.qZA(),t.YNc(18,x,2,0,"div",42),t.qZA(),t.TgZ(19,"div",37),t.TgZ(20,"label",38),t._uU(21,"Vat Group"),t.qZA(),t._UZ(22,"input",43),t.YNc(23,b,2,0,"div",42),t.YNc(24,N,2,0,"div",42),t.qZA(),t.TgZ(25,"div",37),t.TgZ(26,"label",38),t._uU(27,"City Name"),t.qZA(),t._UZ(28,"input",44),t.YNc(29,U,2,0,"div",42),t.YNc(30,S,2,0,"div",42),t.qZA(),t.TgZ(31,"div",45),t.TgZ(32,"button",46),t.NdJ("click",function(g){return t.CHM(e),t.oxw().submit(g)}),t._uU(33),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(5),t.hij(" ",e.title,""),t.xp6(5),t.Q6J("formGroup",e.cityForm),t.xp6(7),t.Q6J("ngForOf",e.countries),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.countryId.errors),t.xp6(5),t.Q6J("ngIf",e.submitted&&e.f.cityCode.errors),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.cityCode.hasError("whitespace")&&e.f.cityCode.value),t.xp6(5),t.Q6J("ngIf",e.submitted&&e.f.cityName.errors),t.xp6(1),t.Q6J("ngIf",e.submitted&&e.f.cityName.hasError("whitespace")&&e.f.cityName.value),t.xp6(3),t.Oqu(e.buttonTitle)}}const F=function(i,n){return{itemsPerPage:10,currentPage:i,totalItems:n}},J=[{path:"",component:(()=>{class i{constructor(e,o,g,m,v,Y,M){this.cityService=e,this.toastr=o,this.router=g,this.formBuilder=m,this.serchString=v,this.zone=Y,this.spinner=M,this.submitted=!1,this.p=1,this.title="Add City",this.buttonTitle="Save",this.cityPopupShow=!0}ngOnInit(){this.spinner.show(),this.countriesList(),this.citiesList(),this.cityForm=this.formBuilder.group({cityName:["",[s.kI.required,this.noWhitespaceValidator]],countryId:["",[s.kI.required]],cityCode:["",[s.kI.required,this.noWhitespaceValidator]]})}get f(){return this.cityForm.controls}submit(e){this.submitted=!0,!this.cityForm.invalid&&(this.cityForm.value.countryId=parseInt(this.cityForm.value.countryId),this.cityId?(this.cityForm.value.cityId=this.cityId,this.cityService.updateCity(this.cityForm.value).subscribe(o=>{o.success?(console.log(o),this.citiesList(),this.toastr.success(o.message),this.cityPopupShow=!1,this.router.navigate(["/cities"])):this.toastr.success(o.message)})):(this.cityService.addCity(this.cityForm.value).subscribe(o=>{o.success?(console.log(o),this.citiesList(),this.toastr.success(o.message),this.router.navigate(["/cities"])):this.toastr.success(o.message)}),this.cityPopupShow=!1))}countriesList(){this.cityService.getAllCountries().subscribe(e=>{this.countries=e.items,console.log(this.countries)})}citiesList(){this.cityService.getAllCities().subscribe(e=>{this.cityList=e.items,this.citySearch=e.items,this.total=this.citySearch.length,this.spinner.hide()})}deleteCity(e){this.cityDeleteId=e}deleteData(){this.cityService.deleteCity(this.cityDeleteId).subscribe(e=>{e.success?(this.zone.run(()=>{this.citiesList()}),this.toastr.success(e.message),this.router.navigate(["/cities"])):this.toastr.success(e.message)})}citiesSearch(e){const o=e.target.value.replace(/^\s+|\s+$/gm,"");this.citySearch=this.serchString.transform("cityName",this.cityList,o),this.p=1,this.total=this.citySearch.length}getSingleCityRecord(e){this.cityPopupShow=!0,this.cityForm.patchValue(e),this.title="Edit City",this.buttonTitle="Update",this.cityId=e.cityId,console.log(this.cityId)}addNewCity(){this.cityPopupShow=!0,this.title="Add City",this.cityId&&(this.cityForm.reset(),this.cityId="")}noWhitespaceValidator(e){return 0!==(e.value||"").trim().length?null:{whitespace:!0}}openPopuop(){this.cityPopupShow=!0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(a.w),t.Y36(u._W),t.Y36(C.F0),t.Y36(s.qu),t.Y36(l.K),t.Y36(t.R0b),t.Y36(c.t2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cities"]],decls:54,vars:10,consts:[[1,"app-main__inner"],[1,"add-new-cus"],["href","","data-toggle","modal","data-target","#exampleCities",3,"click"],[1,"user-header","customers-header"],[1,"row"],[1,"col-md-6"],[1,"search-banner"],["type","text","id","","name","searchByProductName","placeholder","Dubai","autocomplete","off",1,"form-control",3,"input"],[1,"user-list-table"],[1,"table"],[1,"",2,"background-color","#8eb73b"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageChange",4,"ngIf"],["class","modal fade customer-delete-model cities","id","exampleCities","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",4,"ngIf"],["id","deletecountry","tabindex","-1","role","dialog","aria-labelledby","deletecountry","aria-hidden","true",1,"modal","fade","customer-delete-model"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","deletecountry",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","save-btn",3,"click"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","cancel-btn"],["type","button","data-toggle","modal","data-target","#exampleCities","href","",1,"edit-btn",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],["type","button","data-toggle","modal","data-target","#deletecountry",1,"cross-btn-table",3,"click"],["aria-hidden","true",1,"fa","fa-times"],[2,"text-align","center","font-size","20px","padding-top","10px"],[3,"pageChange"],["id","exampleCities","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade","customer-delete-model","cities"],["id","exampleModalCenterTitle",1,"modal-title"],[1,"modal-body","custom-form"],[3,"formGroup"],[1,"form-group"],["for","inputEmail4"],["id","","name","countryId","formControlName","countryId",1,"form-control"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-formdata",4,"ngIf"],["type","text","name","cityCode","id","inputAddress","placeholder","Vat Group","formControlName","cityCode",1,"form-control"],["type","text","name","cityName","id","inputAddress","placeholder","City Name","formControlName","cityName",1,"form-control"],[1,"info-per-btn"],["type","submit",1,"save-btn",3,"click"],[3,"value"],[1,"invalid-formdata"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"a",2),t.NdJ("click",function(){return o.addNewCity()}),t._uU(3,"Add New"),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"h3"),t._uU(6,"Cities List "),t.qZA(),t.qZA(),t.TgZ(7,"div",3),t.TgZ(8,"div",4),t._UZ(9,"div",5),t.TgZ(10,"div",5),t.TgZ(11,"div",6),t.TgZ(12,"label"),t._uU(13,"City Name"),t.qZA(),t.TgZ(14,"input",7),t.NdJ("input",function(m){return o.citiesSearch(m)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",8),t.TgZ(16,"table",9),t.TgZ(17,"thead",10),t.TgZ(18,"tr"),t.TgZ(19,"th",11),t._uU(20,"S No."),t.qZA(),t.TgZ(21,"th",11),t._uU(22," Date"),t.qZA(),t.TgZ(23,"th",11),t._uU(24,"Cities Code"),t.qZA(),t.TgZ(25,"th",11),t._uU(26,"Cities Name"),t.qZA(),t.TgZ(27,"th",11),t._uU(28,"Action"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"tbody"),t.YNc(30,h,14,5,"tr",12),t.ALo(31,"paginate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(32,T,3,0,"div",13),t.YNc(33,_,1,0,"pagination-controls",14),t.qZA(),t.YNc(34,I,34,9,"div",15),t.TgZ(35,"div",16),t.TgZ(36,"div",17),t.TgZ(37,"div",18),t.TgZ(38,"div",19),t.TgZ(39,"h5",20),t._uU(40,"Delete City"),t.qZA(),t.TgZ(41,"button",21),t.TgZ(42,"span",22),t._uU(43,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",23),t.TgZ(45,"h2"),t._uU(46,"Are You Sure?"),t.qZA(),t.TgZ(47,"p"),t._uU(48,"Do you really want to delete this Country data?"),t.qZA(),t.qZA(),t.TgZ(49,"div",24),t.TgZ(50,"button",25),t.NdJ("click",function(){return o.deleteData()}),t._uU(51,"Delete"),t.qZA(),t.TgZ(52,"button",26),t._uU(53,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(30),t.Q6J("ngForOf",t.xi3(31,4,o.citySearch,t.WLB(7,F,o.p,o.total))),t.xp6(2),t.Q6J("ngIf",""==o.citySearch),t.xp6(1),t.Q6J("ngIf",""!=o.citySearch&&o.total>10),t.xp6(1),t.Q6J("ngIf",o.cityPopupShow))},directives:[f.sg,f.O5,r.LS,s._Y,s.JL,s.sg,s.EJ,s.JJ,s.u,s.YN,s.Kr,s.Fj],pipes:[r._s,f.uU],styles:[".customer-delete-model.cities[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{text-align:left}.form-group[_ngcontent-%COMP%]{position:relative}.invalid-formdata[_ngcontent-%COMP%]{position:absolute;bottom:-19px;right:0px;color:#fff;background:red;padding:0 5px;font-size:13px}.customers-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:100%}"]}),i})()}];let w=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[C.Bz.forChild(J)],C.Bz]}),i})(),P=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[l.K],imports:[[f.ez,w,r.JX,s.UX,s.u5]]}),i})()}}]);