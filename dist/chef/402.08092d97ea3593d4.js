"use strict";(self.webpackChunkchef=self.webpackChunkchef||[]).push([[402],{7875:(L,C,o)=>{o.d(C,{K:()=>Z});var h=o(3668);let Z=(()=>{class r{transform(e,d,l){return void 0===l?d:e?(console.log(e),d.filter(a=>null!=a[e]&&a[e].toString().toLowerCase().includes(l.toLowerCase()))):d.filter(a=>Object.keys(a).some(g=>null!=a[g]&&a[g].toString().toLowerCase().includes(l.toLowerCase())))}transform2(e,d,l,a,g){return void 0===a?l:e&&d?(console.log(a),console.log(g),l.filter(c=>c[e]==a&&c[d]==g)):void 0}transform3(e,d,l,a,g,c,_){return void 0===g?a:e&&d&&l?(console.log(g),console.log(c),a.filter(f=>f[e]==g&&f[d]==c&&f[l]==_)):void 0}transform4(e,d,l,a,g,c,_,f,N){return void 0===c?g:e&&d&&l?(console.log(c),console.log(_),g.filter(w=>w[e]==c&&w[d]==_&&w[l]==f&&w[a]==N)):void 0}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=h.Yjl({name:"searchString",type:r,pure:!0}),r})()},5402:(L,C,o)=>{o.r(C),o.d(C,{NewslettersModule:()=>z});var h=o(6019),Z=o(8994),r=o(7537),A=o(8260),e=o(3668),d=o(2387),l=o(7962),a=o(4522);let g=(()=>{class i{constructor(t){this.httpClnt=t,this.apiUrl=A.N.apiUrl}getNewsLetterList(){return this.httpClnt.get(this.apiUrl+l.y.newsLetterList)}deleteNewsLetter(t){return this.httpClnt.post(this.apiUrl+l.y.deleteNewsLetter+t,{})}addNewsLetter(t){return this.httpClnt.post(this.apiUrl+l.y.addNewsLetter,t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(a.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var c=o(9256),_=o(701),f=o(4902);function N(i,s){if(1&i&&e._UZ(0,"img",23),2&i){const t=e.oxw();e.hYB("src","",t.imagePath,"/",t.showImages,"",e.LSH)}}function w(i,s){if(1&i&&e._UZ(0,"img",23),2&i){const t=e.oxw();e.s9C("src",t.croppedImage,e.LSH)}}function I(i,s){if(1&i&&e._UZ(0,"img",23),2&i){const t=e.oxw();e.s9C("src",t.croppedImage,e.LSH)}}function x(i,s){1&i&&(e.TgZ(0,"div",24),e._uU(1," Images is required "),e.qZA())}function y(i,s){if(1&i&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.imagesLimitOrType," ")}}function U(i,s){1&i&&(e.TgZ(0,"div",24),e._uU(1," Newsletter title is required "),e.qZA())}function E(i,s){1&i&&(e.TgZ(0,"div",24),e._uU(1," Newsletter subtitle is required "),e.qZA())}function S(i,s){1&i&&(e.TgZ(0,"div",24),e._uU(1," Newsletter content is required "),e.qZA())}function F(i,s){1&i&&e._UZ(0,"img",25)}function M(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26),e.TgZ(1,"div",27),e.TgZ(2,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().modalRef.hide()}),e.TgZ(3,"span",29),e._uU(4,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"div",30),e.TgZ(6,"h2"),e._uU(7,"Are You Sure?"),e.qZA(),e.TgZ(8,"p"),e._uU(9,"Do you really want to save this data?"),e.qZA(),e.qZA(),e.TgZ(10,"div",31),e.TgZ(11,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(12,"Yes"),e.qZA(),e.TgZ(13,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().modalRef.hide()}),e._uU(14,"No"),e.qZA(),e.qZA(),e.qZA()}}let b=(()=>{class i{constructor(t,n,p,m,u,T,v){this.formBuilder=t,this.toastr=n,this.newsLetterService=p,this.datepipe=m,this.zone=u,this.router=T,this.modalService=v,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["bold","italic"],["fontSize"]]},this.date=new Date,this.imageChangedEvent="",this.croppedImage="",this.newsLettercroppedImage=!1,this.imageType=["image/jpg","image/jpeg","image/png"],this.isButton=!1,this.imagePath=A.N.imagePath,this.isLoaderImage=!1,this.submitted=!1}ngOnInit(){console.log(this.date),this.date=this.datepipe.transform(this.date,"yyyy-MM-dd"),this.newsletterForm=this.formBuilder.group({title:["",[r.kI.required]],image:[""],subTtitle:["",[r.kI.required]],newsletterContent:["",[r.kI.required]],newsletterAddedDate:[this.date]}),this.newsletterForm.valueChanges.subscribe(t=>{localStorage.setItem("isFormChanged",JSON.stringify(!0))})}get f(){return this.newsletterForm.controls}fileChangeEvent(t){this.imageType.includes(t.target.files[0].type)?t.target.files[0].size/1024/1024<2?(this.imagesLimitOrType="",this.imageChangedEvent=t,this.isButton=!0):(this.imagesLimitOrType="Image Size Should Be Less Than 2 Mb",this.croppedImage=""):(this.imagesLimitOrType="Invalid File Type",this.croppedImage=""),this.newsLettercroppedImage=!1}imageCropped(t){this.imageChangedEvent&&(this.croppedImage=t.base64,this.dataURLtoFile(this.croppedImage,this.imageChangedEvent.target.files[0].name,this.imageChangedEvent.target.files[0].type))}imageLoaded(){}cropperReady(){}loadImageFailed(){}dataURLtoFile(t,n,p){for(var m=t.split(","),u=atob(m[1]),T=u.length,v=new Uint8Array(T);T--;)v[T]=u.charCodeAt(T);this.image=new File([v],n,{type:p})}openModal(t){this.formValidations(t)}formValidations(t){if(this.submitted=!0,!this.newsletterForm.invalid){if(this.showImages)this.croppedImage&&(this.newsLettercroppedImage=!1);else if(""==this.croppedImage)return void(this.newsLettercroppedImage=!0);this.modalRef=this.modalService.show(t)}}submit(){this.modalRef.hide();const t=new FormData;this.image&&(t.append("fileName",this.image.name),t.append("image",this.image)),t.append("title",this.newsletterForm.value.title),t.append("subTtitle",this.newsletterForm.value.subTtitle),t.append("newsletterContent",this.newsletterForm.value.newsletterContent),t.append("newsletterAddedDate",this.newsletterForm.value.newsletterAddedDate),this.isLoaderImage=!0,this.newsLetterService.addNewsLetter(t).subscribe(n=>{n.success?(this.isLoaderImage=!1,this.toastr.success(n.message),this.zone.run(()=>{this.router.navigate(["/newsletters"])})):this.toastr.success(n.message)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(d._W),e.Y36(g),e.Y36(h.uU),e.Y36(e.R0b),e.Y36(Z.F0),e.Y36(c.tT))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-newsletters"]],decls:40,vars:15,consts:[[1,"app-main__inner"],[1,"tab-content"],[1,"user-header"],[1,"address-info-form"],["enctype","multipart/form-data",3,"formGroup"],[1,"imges-upload","text-center"],[1,"row"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","imageLoaded","cropperReady","loadImageFailed"],[1,"imgUp","m-auto"],[1,"imagePreview"],[3,"src",4,"ngIf"],[1,"btn","btn-primary"],["type","file","name","image","value","Upload Photo",1,"uploadFile","img",2,"width","0px","height","0px","overflow","hidden",3,"change"],["class","invalid-formdata",4,"ngIf"],[1,"form-group"],["for","inputEmail4"],["type","text","formControlName","title","id","inputAddress","placeholder","Title",1,"form-control"],["type","text","id","inputAddress","formControlName","subTtitle","placeholder","Sub-Title",1,"form-control"],["formControlName","newsletterContent",3,"config"],[1,"info-per-btn"],["type","submit",1,"save-btn",3,"disabled","click"],["src","assets/images/formload.gif","class","form-button-loader",4,"ngIf"],["template",""],[3,"src"],[1,"invalid-formdata"],["src","assets/images/formload.gif",1,"form-button-loader"],[1,"customer-delete-model"],[1,"modal-header"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","save-btn",3,"click"],["type","button",1,"btn","cancel-btn",3,"click"]],template:function(t,n){if(1&t){const p=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h3"),e._uU(4,"Add New Newsletter"),e.qZA(),e.qZA(),e.TgZ(5,"section",3),e.TgZ(6,"form",4),e.TgZ(7,"div",5),e.TgZ(8,"p"),e._uU(9,"Add NewsLetter Image"),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"image-cropper",7),e.NdJ("imageCropped",function(u){return n.imageCropped(u)})("imageLoaded",function(){return n.imageLoaded()})("cropperReady",function(){return n.cropperReady()})("loadImageFailed",function(){return n.loadImageFailed()}),e.qZA(),e.qZA(),e.TgZ(12,"div",8),e.TgZ(13,"div",9),e.YNc(14,N,1,2,"img",10),e.YNc(15,w,1,1,"img",10),e.YNc(16,I,1,1,"img",10),e.qZA(),e.TgZ(17,"label",11),e._uU(18," Upload"),e.TgZ(19,"input",12),e.NdJ("change",function(u){return n.fileChangeEvent(u)}),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,x,2,0,"div",13),e.YNc(21,y,2,1,"div",13),e.qZA(),e.TgZ(22,"div",14),e.TgZ(23,"label",15),e._uU(24,"Title"),e.qZA(),e._UZ(25,"input",16),e.YNc(26,U,2,0,"div",13),e.qZA(),e.TgZ(27,"div",14),e.TgZ(28,"label",15),e._uU(29,"Sub-Title"),e.qZA(),e._UZ(30,"input",17),e.YNc(31,E,2,0,"div",13),e.qZA(),e._UZ(32,"angular-editor",18),e.YNc(33,S,2,0,"div",13),e.TgZ(34,"div",19),e.TgZ(35,"button",20),e.NdJ("click",function(){e.CHM(p);const u=e.MAs(39);return n.openModal(u)}),e._uU(36,"Save"),e.qZA(),e.YNc(37,F,1,0,"img",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(38,M,15,0,"ng-template",null,22,e.W1O)}2&t&&(e.xp6(6),e.Q6J("formGroup",n.newsletterForm),e.xp6(5),e.Q6J("imageChangedEvent",n.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",4/3),e.xp6(3),e.Q6J("ngIf",n.showImages&&!n.croppedImage),e.xp6(1),e.Q6J("ngIf",n.showImages&&n.croppedImage),e.xp6(1),e.Q6J("ngIf",!n.showImages&&n.croppedImage),e.xp6(4),e.Q6J("ngIf",n.newsLettercroppedImage),e.xp6(1),e.Q6J("ngIf",n.imagesLimitOrType),e.xp6(5),e.Q6J("ngIf",n.submitted&&n.f.title.errors),e.xp6(5),e.Q6J("ngIf",n.submitted&&n.f.subTtitle.errors),e.xp6(1),e.Q6J("config",n.editorConfig),e.xp6(1),e.Q6J("ngIf",n.submitted&&n.f.newsletterContent.errors),e.xp6(2),e.Q6J("disabled",n.isLoaderImage),e.xp6(2),e.Q6J("ngIf",n.isLoaderImage))},directives:[r._Y,r.JL,r.sg,_.ap,h.O5,r.Fj,r.JJ,r.u,f.s6],styles:[".invalid-formdata.ng-star-inserted[_ngcontent-%COMP%]{color:red}"]}),i})();var J=o(9861),q=o(8265);function Y(i,s){1&i&&(e.TgZ(0,"td"),e._UZ(1,"img",24),e.qZA())}function O(i,s){if(1&i&&(e.TgZ(0,"td"),e._UZ(1,"img",25),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.hYB("src","",n.imagePath,"/",t.image,"",e.LSH)}}function P(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.YNc(10,Y,2,0,"td",9),e.YNc(11,O,2,2,"td",9),e.TgZ(12,"td"),e.TgZ(13,"a",22),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw().removeNewsLetter(m.newsletterId)}),e._UZ(14,"i",23),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(e.xi3(5,6,t.newsletterAddedDate,"longDate")),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.subTtitle),e.xp6(1),e.Q6J("ngIf",!t.image),e.xp6(1),e.Q6J("ngIf",t.image)}}function R(i,s){1&i&&(e.TgZ(0,"div"),e.TgZ(1,"p",26),e._uU(2,"Record Not Found"),e.qZA(),e.qZA())}function D(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"pagination-controls",27),e.NdJ("pageChange",function(p){return e.CHM(t),e.oxw().p=p}),e.qZA()}}const Q=function(){return["/newsletters/add"]},k=[{path:"",component:(()=>{class i{constructor(t,n,p){this.newsLetterService=t,this.spinner=n,this.toastr=p,this.imagePath=A.N.imagePath,this.p=1}ngOnInit(){this.spinner.show(),this.getNewsletterList()}getNewsletterList(){this.newsLetterService.getNewsLetterList().subscribe(t=>{this.newsLetterList=t.items,this.total=t.items.length,this.spinner.hide()})}removeNewsLetter(t){this.newsLetterId=t}newsDelete(){this.newsLetterService.deleteNewsLetter(this.newsLetterId).subscribe(t=>{t.success&&(this.toastr.success(t.message),this.getNewsletterList())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g),e.Y36(J.t2),e.Y36(d._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-newsletters"]],decls:46,vars:5,consts:[[1,"app-main__inner"],[1,"add-new-cus"],[3,"routerLink"],[1,"user-header","customers-header"],[1,"user-list-table"],[1,"table"],[1,"",2,"background-color","#8eb73b"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pageChange",4,"ngIf"],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade","customer-delete-model"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalCenterTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","save-btn",3,"click"],["type","button","data-dismiss","modal","aria-label","Close",1,"btn","cancel-btn"],["data-toggle","modal","data-target","#exampleModalCenter",1,"cross-btn-table",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["src","assets/images/chefimage.png"],[3,"src"],[2,"text-align","center","font-size","20px","padding-top","10px"],[3,"pageChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"a",2),e._uU(3,"Add New"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"h3"),e._uU(6,"Newsletters List "),e.qZA(),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"table",5),e.TgZ(9,"thead",6),e.TgZ(10,"tr"),e.TgZ(11,"th",7),e._uU(12,"S. No"),e.qZA(),e.TgZ(13,"th",7),e._uU(14," Date"),e.qZA(),e.TgZ(15,"th",7),e._uU(16,"Title"),e.qZA(),e.TgZ(17,"th",7),e._uU(18,"Sub-Title"),e.qZA(),e.TgZ(19,"th",7),e._uU(20,"Image"),e.qZA(),e.TgZ(21,"th",7),e._uU(22,"Action"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"tbody"),e.YNc(24,P,15,9,"tr",8),e.qZA(),e.qZA(),e.qZA(),e.YNc(25,R,3,0,"div",9),e.YNc(26,D,1,0,"pagination-controls",10),e.qZA(),e.TgZ(27,"div",11),e.TgZ(28,"div",12),e.TgZ(29,"div",13),e.TgZ(30,"div",14),e.TgZ(31,"h5",15),e._uU(32,"Delete Newsletter"),e.qZA(),e.TgZ(33,"button",16),e.TgZ(34,"span",17),e._uU(35,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(36,"div",18),e.TgZ(37,"h2"),e._uU(38,"Are You Sure?"),e.qZA(),e.TgZ(39,"p"),e._uU(40,"Do you really want to delete this Newsletter?"),e.qZA(),e.qZA(),e.TgZ(41,"div",19),e.TgZ(42,"button",20),e.NdJ("click",function(){return n.newsDelete()}),e._uU(43,"Delete"),e.qZA(),e.TgZ(44,"button",21),e._uU(45,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("routerLink",e.DdM(4,Q)),e.xp6(22),e.Q6J("ngForOf",n.newsLetterList),e.xp6(1),e.Q6J("ngIf",""==n.newsLetterList),e.xp6(1),e.Q6J("ngIf",""!=n.newsLetterList&&n.total>10))},directives:[Z.yS,h.sg,h.O5,q.LS],pipes:[h.uU],styles:[".customers-header[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:100%}.user-list-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:50px}.user-list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}"]}),i})()},{path:"add",component:b},{path:"edit/:id",component:b}];let B=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(k)],Z.Bz]}),i})();var H=o(7875);let z=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[H.K,h.uU],imports:[[h.ez,B,f.UM,r.UX,r.u5,_.QG,q.JX]]}),i})()}}]);